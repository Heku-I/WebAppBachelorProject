@{
    ViewData["Title"] = "Home Page";
}

<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>title</title>

<style>body { font-family: 'Squada One', sans-serif;}</style>
</head>
<body>
    <h2 class="text-center text-white mt-5">Generate a subjective description of any image with AI</h2>
    <h1 class="text-center text-white mt-2">Try it yourself!</h1>

<div class="container mt-5 w-50  ">
    <div id="drop-area" class="card text-center shadow-lg p-3 mb bg-dark rounded-3 text-light display-6">
        <p class="mb-5">Drag and drop an image file here or click to select one.</p>
        <input type="file" id="file-input" accept="image/*" style="display: none;" />
        <div id="preview"></div>
    </div>
</div>

@section scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var dropArea = document.getElementById("drop-area");
            var fileInput = document.getElementById("file-input");
            var preview = document.getElementById("preview");

            dropArea.addEventListener("dragover", function (e) {
                e.preventDefault();
                dropArea.classList.add("border", "border-secondary");
            });

            dropArea.addEventListener("dragleave", function () {
                dropArea.classList.remove("border", "border-secondary");
            });

            dropArea.addEventListener("drop", function (e) {
                e.preventDefault();
                dropArea.classList.remove("border", "border-secondary");

                var files = e.dataTransfer.files;

                if (files.length > 0) {
                    fileInput.files = files;
                    previewImage();
                }
            });

            fileInput.addEventListener("change", function () {
                previewImage();
            });

            function previewImage() {
                var file = fileInput.files[0];

                if (file) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        preview.innerHTML = '<img src="' + e.target.result + '" alt="Preview" class="img-fluid rounded" />';
                    };

                    reader.readAsDataURL(file);
                }
            }

            dropArea.addEventListener("click", function () {
                fileInput.click();
            });

            fileInput.addEventListener("click", function (e) {
                e.stopPropagation();
            });
        });
    </script>
}

<h1 class="text-center text-white mt-5">Here is some examples</h1>
   <section id="images">
        @if (Model != null && Model.Any())
        {
            @foreach (var item in Model)
            {
                <div class="images">
                    <img src="@item.image" alt="images">
                    <p class="image-title">@item.Title</p>
                    <p class="image-description">@item.Descriptions</p>
                    
                    <a asp-action="Gallery" asp-controller="Image" asp-route-id="@item.ImageId"> More</a>
                </div>
            }
        }
        else
        {
            <h2 class="text-white text-center mt-5">No images to show.</h2>
        }
    </section>
</body>
</html>
